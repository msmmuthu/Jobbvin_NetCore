@page "/Purchase-History"

@using BlazorBootstrap;
@using Jobbvin.Shared.Models;
@using Microsoft.AspNetCore.Authorization;

@attribute [Authorize]

<div class="container-fluid pt-4">
    <div class="row">
        <div class="col-sm-5 col-md-5 col-lg-3">
            <Jobbvin.Client.Components.UserMenu />
        </div>
      
        <div class="col-sm-7 col-md-7 col-lg-9">
            @if (!string.IsNullOrEmpty(error))
            {
                <div class="alert alert-danger mt-3 mb-0">@error</div>
            }
            <div class="row pt-0">
                <div class="col-sm-10 col-md-10 col-lg-10 pb-0">
                    <h4>Purchase History</h4>
                </div>
                <div class="col-sm-2 col-md-2 col-lg-2 pb-0">
                </div>
            </div>
            <hr>
                    <Grid TItem="Jobbvin.Shared.Models.pic_scheme_user" class="table table-hover table-bordered table-striped"
                      PageSizeSelectorVisible="true"
                      PageSizeSelectorItems="@(new int[] { 5,10,20 })"
                      ItemsPerPageText="Items per page"
                      HeaderRowCssClass="bg-primary text-white border-bottom-0"
                      PaginationItemsTextFormat="{0} - {1} of {2} items"
                      DataProvider="SchemeListDataProvider" AllowFiltering="true" AllowPaging="true" PageSize="10" AllowSorting="true" Responsive="true" PaginationAlignment="Alignment.End">
                    <GridColumn TItem="pic_scheme_user" HeaderText="Date" PropertyName="scheme_purchased_date" SortKeySelector="item => item.scheme_purchased_date">
                        @context.scheme_purchased_date.ToJobbvinDateHiphen()
                    </GridColumn>
                    <GridColumn TItem="pic_scheme_user" HeaderText="Scheme Name" PropertyName="pic_scheme_name" SortKeySelector="item => item.pic_scheme_name">
                        @context.pic_scheme_name
                    </GridColumn>
                    <GridColumn TItem="pic_scheme_user" HeaderText="Allocated Ads" PropertyName="total_ads" SortKeySelector="item => item.total_ads">
                        @context.total_ads
                    </GridColumn>
                    <GridColumn TItem="pic_scheme_user" HeaderText="Price" PropertyName="cost_scheme" SortKeySelector="item => item.cost_scheme">
                        @context.cost_scheme
                    </GridColumn>
                    <GridColumn TItem="pic_scheme_user" HeaderText="Payment Status" PropertyName="payment_status" SortKeySelector="item => item.payment_status">
                        @context.payment_status
                    </GridColumn>  
                    <GridColumn TItem="pic_scheme_user" HeaderText="Payment Method" PropertyName="payment_method" SortKeySelector="item => item.payment_method">
                        @context.payment_method
                    </GridColumn>

                </Grid>

        </div>
    </div>
</div>

<style>
    .mylabel {
        color: #3f4146 !important;
        font-weight: bold !important;
    }

    label {
        display: inline-block !important;
        margin-bottom: 0.5rem !important;
    }

    .form-group {
        margin-bottom: 1rem !important;
    }
</style>